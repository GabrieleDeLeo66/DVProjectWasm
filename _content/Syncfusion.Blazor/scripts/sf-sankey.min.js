/*!*  filename: sf-sankey.min.js 
*     version : 28.1.33 
*     Copyright Syncfusion Inc. 2001 - 2024. All rights reserved. 
*     Use of this code is subject to the terms of our license.
*     A copy of the current license can be obtained at any time by e-mailing 
*     licensing@syncfusion.com. Any infringement will be prosecuted under 
*     applicable laws. 
*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"./bundles/sf-sankey.js":function(e,t,n){"use strict";n.r(t);n("./modules/sf-sankey.js")},"./modules/sf-sankey.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Sankey=function(){"use strict";var e=function(){function e(e,t,n,s){window.sfBlazor=window.sfBlazor,this.isDisposed=!1,this.mouseY=0,this.mouseX=0,this.svgOffsetX=0,this.svgOffsetY=0,this.isTouch=!1,this.eventInterval=80,this.mouseMoveRef=null,this.mouseMoveThreshold=null,this.chartOnMouseClickRef=null,this.mouseLeaveRef=null,this.chartKeyDownRef=null,this.chartOnMouseDownRef=null,this.mouseEndRef=null,this.dataId=e,this.id=t,this.svgId=t+"_svg",this.element=n,this.dotnetref=s,window.sfBlazor.setCompInstance(this),this.wireEvents()}return e.prototype.destroySankey=function(){this.unwireEvents()},e.prototype.wireEvents=function(){t.dotnetrefCollection.push({id:this.id,dotnetref:this.dotnetref}),t.resizeBound=t.sankeyResize.bind(this,t.dotnetrefCollection);var e="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(e,t.resizeBound),this.chartOnMouseDownRef=this.chartOnMouseDown.bind(this),this.mouseEndRef=this.mouseEnd.bind(this),this.mouseMoveRef=this.mouseMove.bind(this),this.chartOnMouseClickRef=this.chartOnMouseClick.bind(this),this.mouseLeaveRef=this.mouseLeave.bind(this),this.chartKeyDownRef=this.chartKeyDown.bind(this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.add(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.addEventListener("mousemove",this.mouseMoveRef),this.element.addEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.add(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.add(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.add(this.element,"keydown",this.chartKeyDownRef)},e.prototype.unwireEvents=function(){var e="onorientationchange"in window?"orientationchange":"resize";window.removeEventListener(e,t.resizeBound),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.removeEventListener("mousemove",this.mouseMoveRef),this.element.removeEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.remove(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.remove(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.remove(this.element,"keydown",this.chartKeyDownRef)},e.prototype.chartOnMouseDown=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseDown",this.getEventArgs(e))},e.prototype.mouseEnd=function(e){this.dotnetref.invokeMethodAsync("OnMouseEnd",this.getEventArgs(e))},e.prototype.mouseMove=function(e){(null==this.mouseMoveThreshold||(new Date).getTime()-this.mouseMoveThreshold>this.eventInterval)&&(this.mouseMoveThreshold=(new Date).getTime(),this.dotnetref.invokeMethodAsync("OnChartMouseMove",this.getEventArgs(e)))},e.prototype.chartOnMouseClick=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseClick",this.getEventArgs(e))},e.prototype.mouseLeave=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseLeave",this.getEventArgs(e))},e.prototype.chartKeyDown=function(e){this.dotnetref.invokeMethodAsync("OnChartKeyDown",this.getKeyboardEventArgs(e))},e.prototype.getEventArgs=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,n=e.changedTouches?e.changedTouches[0].clientY:e.clientY;return this.setMouseXY(t,n),{type:e.type,clientX:t,clientY:n,mouseX:this.mouseX,mouseY:this.mouseY,target:e.target.id,svgOffsetX:this.svgOffsetX,svgOffsetY:this.svgOffsetY}},e.prototype.getKeyboardEventArgs=function(e){return{type:e.type,key:e.key,keyCode:e.keyCode,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey}},e.prototype.setMouseXY=function(e,t){var n=this.element.id,s=document.getElementById(n+"_svg"),i=document.getElementById(n);if(s&&i){var o=s.getBoundingClientRect(),r=i.getBoundingClientRect(),h=Math.max(o.left-r.left,0),a=Math.max(o.top-r.top,0);this.mouseY=t-r.top-a,this.mouseX=e-r.left-h,this.svgOffsetX=h,this.svgOffsetY=a}},e}(),t={initializeSankey:function(t,n,s){new e(t,n.id,n,s)},dotnetrefCollection:[],destroySankey:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.destroySankey()},getSankeyParentSize:function(e){var t=document.getElementById(e);if(t){var n=document.getElementById(e+"_svg");n&&(n.style.display="none"),t.style.width="100%",t.style.height="100%";var s=t.getBoundingClientRect(),i=s.width||t.clientWidth||t.offsetWidth,o=s.height||t.clientHeight||t.offsetHeight;return n&&(n.style.display=""),{width:i,height:o,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getSankeyElementBoundsById:function(e,t){void 0===t&&(t=!0),t&&(this.id=e);var n=document.getElementById(e);if(n){var s=n.getBoundingClientRect();return{width:n.clientWidth||n.offsetWidth,height:n.clientHeight||n.offsetHeight,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getAllCharacters:function(){for(var e=[],t=33;t<591;t++)e.push(String.fromCharCode(t));return e},getSankeyCharCollectionSize:function(e){for(var t=[],n=this.getAllCharacters(),s=n.length,i=e.length,o=0;o<i;o++)for(var r=e[parseInt(o.toString(),10)].split("_"),h=r[0],a=r[1],d=r[2],l=0;l<s;l++)t.push(this.measureText(n[parseInt(l.toString(),10)],h,a,d).Width+"");return JSON.stringify(t)},getSankeyCharSizeByFontKeys:function(e){for(var t,n={},s=e.length,i=[],o=0;o<s;o++)i=e[parseInt(o.toString(),10)].split("_"),t=this.measureText(i[0],i[1],i[2],i[3]),n[e[parseInt(o.toString(),10)]]={X:t.Width,Y:t.Height};return JSON.stringify(n)},measureText:function(e,t,n,s){var i=document.getElementById("sfsankeychartmeasuretext");return null===i&&(i=sf.base.createElement("text",{id:"sfsankeychartmeasuretext"}),document.body.appendChild(i))," "===e&&(e="&nbsp;"),i.innerHTML=e,i.style.position="fixed",i.style.fontSize="100px",i.style.fontWeight=t,i.style.fontStyle=n,i.style.fontFamily=s,i.style.visibility="hidden",i.style.top="-100",i.style.left="0",i.style.whiteSpace="nowrap",i.style.lineHeight="normal",{Width:i.clientWidth,Height:i.clientHeight}},removeClipPathsFromGroups:function(e){var t=document.getElementById(e);if(t)for(var n=t.getElementsByTagName("g"),s=0;s<n.length;s++){var i=n[s];i.hasAttribute("clip-path")&&-1===i.id.indexOf("_legend_collection")&&i.removeAttribute("clip-path")}},sankeyResize:function(e){var t=this;return this.resize&&clearTimeout(this.resize),this.isDisposed||(this.resize=setTimeout((function(){for(var n,s,i,o=e.length,r={},h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,s=e[parseInt(h.toString(),10)].id,(i=document.getElementById(s+"_svg")).style.display="none";for(h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,s=e[parseInt(h.toString(),10)].id,i=document.getElementById(s),r[""+s]={Dotnetref:n,Width:i.clientWidth||i.offsetWidth,Height:i.clientHeight||i.offsetHeight};for(var a in r)if(r[""+a]){var d=r[""+a].Dotnetref,l=document.getElementById(a+"_svg");d.invokeMethodAsync("OnSankeyResize",JSON.stringify({Width:r[""+a].Width,Height:r[""+a].Height})),l.style.display=""}clearTimeout(t.resize)}),500)),!1},resizeBound:void 0,resize:void 0};return t}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=28.1.undefined`).then(()=>{sfBlazor.loadDependencies('sfsankey');})})();